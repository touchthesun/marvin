<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marvin Dashboard</title>
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-container">
        <h1>Marvin Dashboard</h1>
      </div>
      <div class="actions">
        <button id="captureBtn" class="button primary">Capture Current Page</button>
        <button id="refreshBtn" class="button secondary">Refresh</button>
        <button id="settingsBtn" class="button secondary">Settings</button>
      </div>
    </header>
    
    <main>
      <div class="tabs">
        <button class="tab active" data-tab="active-tasks">Active Tasks</button>
        <button class="tab" data-tab="completed-tasks">Completed</button>
        <button class="tab" data-tab="pages">Captured Pages</button>
      </div>
      
      <div class="tab-content">
        <!-- Active Tasks Tab -->
        <div class="tab-pane active" id="active-tasks">
          <div class="section-header">
            <h2>Active Analysis Tasks</h2>
            <div class="controls">
              <button id="cancelAllBtn" class="button danger small">Cancel All</button>
            </div>
          </div>
          
          <div class="task-list" id="activeTasks">
            <div class="loading">Loading tasks...</div>
          </div>
        </div>
        
        <!-- Completed Tasks Tab -->
        <div class="tab-pane" id="completed-tasks">
          <div class="section-header">
            <h2>Completed Analysis Tasks</h2>
            <div class="controls">
              <button id="clearCompletedBtn" class="button danger small">Clear History</button>
            </div>
          </div>
          
          <div class="task-list" id="completedTasks">
            <div class="loading">Loading tasks...</div>
          </div>
        </div>
        
        <!-- Captured Pages Tab -->
        <div class="tab-pane" id="pages">
          <div class="section-header">
            <h2>Captured Pages</h2>
            <div class="search-container">
              <input type="text" id="pageSearch" placeholder="Search pages...">
            </div>
          </div>
          
          <div class="page-list" id="pagesList">
            <div class="loading">Loading pages...</div>
          </div>
        </div>
      </div>
    </main>
    
    <div id="taskDetails" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Task Details</h2>
          <button class="close-btn">&times;</button>
        </div>
        <div class="modal-body">
          <div class="loading">Loading task details...</div>
        </div>
        <div class="modal-footer">
          <button class="button secondary close-btn">Close</button>
        </div>
      </div>
    </div>
    
    <footer>
      <div class="status-bar">
        <div id="status"></div>
        <div class="version">v0.1.0</div>
      </div>
    </footer>
  </div>
  
  <!-- Task Card Template -->
  <template id="taskCardTemplate">
    <div class="task-card">
      <div class="task-header">
        <div class="task-title">Task Title</div>
        <div class="task-status">Status</div>
      </div>
      <div class="progress-container">
        <div class="progress-bar"></div>
        <div class="progress-text">0%</div>
      </div>
      <div class="task-info">
        <div class="task-url">URL goes here</div>
        <div class="task-time">Time info</div>
      </div>
      <div class="task-details">
        <div class="task-stage">Current Stage</div>
        <div class="task-actions">
          <!-- Actions will be added dynamically -->
        </div>
      </div>
    </div>
  </template>
  
  <!-- Page Card Template -->
  <template id="pageCardTemplate">
    <div class="page-card">
      <div class="page-favicon">
        <img src="https://www.google.com/s2/favicons?domain=example.com" alt="favicon">
      </div>
      <div class="page-info">
        <div class="page-title">Page Title</div>
        <div class="page-url">https://example.com</div>
        <div class="page-meta">
          <span class="page-date">Captured on Date</span>
          <span class="page-status">Status</span>
        </div>
      </div>
      <div class="page-actions">
        <!-- Actions will be added dynamically -->
      </div>
    </div>
  </template>
  
  <script src="dashboard.js"></script>
</body>
</html>